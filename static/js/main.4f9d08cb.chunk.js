(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),l=n.n(c),u=n(18),o=n(24),i=n(55),E=n(64),s=n(56),d={LOAD_DATA_REQUEST:"LOAD_DATA_REQUEST",LOAD_DATA_FAILURE:"LOAD_DATA_FAILURE",LOAD_DATA_SUCCESS:"LOAD_DATA_SUCCESS",LOAD_ARCHIVE_DATA_SUCCESS:"LOAD_ARCHIVE_DATA_SUCCESS",LOAD_ARCHIVE_DATA_REQUEST:"LOAD_ARCHIVE_DATA_REQUEST",LOAD_ARCHIVE_DATA_FAILURE:"LOAD_ARCHIVE_DATA_FAILURE",CONVERT_MONEY:"CONVERT_MONEY",GET_INPUT_VALUE:"GET_INPUT_VALUE",GET_INPUT_DATE:"GET_INPUT_DATE",CLEAR_INPUT_VALUE:"CLEAR_INPUT_VALUE",GET_FIRST_SELECTED_VALUE:"GET_FIRST_SELECTED_VALUE",GET_SECOND_SELECTED_VALUE:"GET_SECOND_SELECTED_VALUE",SWAP_CURRENCY:"SWAP_CURRENCY"};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){return e*n/t}function p(e,t,n){return e.find(function(e){return e[t]===n})}var h={baseExchangeRate:[],exchangeRate:[],isLoading:!1,isLoadingArchive:!1,isLoadedArchive:!1,isLoaded:!1,hasError:!1,inputValue:"",convertValue:null,date:new Date,firstSelect:null,secondSelect:null,allSelected:!1};var g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,f=Object(o.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.LOAD_DATA_REQUEST:return m({},e,{isLoading:!0});case d.LOAD_DATA_SUCCESS:return m({},e,{isLoading:!1,baseExchangeRate:t.data,exchangeRate:[].concat(Object(E.a)(t.data),[{ccy:"UAH",base_ccy:"UAH",sale:1,buy:1}])});case d.LOAD_ARCHIVE_DATA_SUCCESS:return m({},e,{isLoadingArchive:!1,isLoadedArchive:!0,exchangeRate:t.data.exchangeRate,firstSelect:null,secondSelect:null});case d.LOAD_ARCHIVE_DATA_REQUEST:return m({},e,{isLoadingArchive:!0});case d.LOAD_ARCHIVE_DATA_FAILURE:return m({},e,{isLoadingArchive:!1,hasError:!0});case d.LOAD_DATA_FAILURE:return m({},e,{isLoading:!1,hasError:!0});case d.GET_INPUT_VALUE:return m({},e,{inputValue:t.target.value.replace(/[^0-9|.]/gi,"")});case d.CLEAR_INPUT_VALUE:return m({},e,{inputValue:""});case d.CONVERT_MONEY:return m({},e,{convertValue:e.baseExchangeRate.length+1===e.exchangeRate.length?_(p(e.exchangeRate,"ccy",e.firstSelect).sale,p(e.exchangeRate,"ccy",e.secondSelect).buy,Number(e.inputValue)):_(Number(p(e.exchangeRate,"currency",e.firstSelect).saleRateNB),Number(p(e.exchangeRate,"currency",e.secondSelect).purchaseRateNB),Number(e.inputValue))});case d.GET_INPUT_DATE:return m({},e,{date:t.date});case d.GET_FIRST_SELECTED_VALUE:return m({},e,{firstSelect:t.value,allSelected:!!e.secondSelect});case d.GET_SECOND_SELECTED_VALUE:return m({},e,{secondSelect:t.value,allSelected:!!e.firstSelect});case d.SWAP_CURRENCY:var n=e.firstSelect,a=e.inputValue;return m({},e,{firstSelect:e.secondSelect,secondSelect:n,inputValue:e.convertValue,convertValue:a});default:return e}},g(Object(o.a)(i.a))),y=n(57),S=n(58),v=n(65),D=n(59),L=n(66),R=n(28),T=n(19),b=n(60),C=n.n(b);n(119),n(120);var O=n(51),N=n.n(O),U=n(63),V=function(){var e=Object(U.a)(N.a.mark(function e(t){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){return{type:d.LOAD_ARCHIVE_DATA_REQUEST}},x=function(){return function(e){setTimeout(function(){V("https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5").then(function(t){e(function(e){return{type:d.LOAD_DATA_SUCCESS,data:e}}(t))}).catch(function(){e({type:d.LOAD_DATA_FAILURE})})},700)}},w=function(e){return function(t){t(I()),setTimeout(function(){V("/api/archiveData?date=".concat(encodeURIComponent(e))).then(function(e){t(function(e){return{type:d.LOAD_ARCHIVE_DATA_SUCCESS,data:e}}(e))}).catch(function(){t({type:d.LOAD_ARCHIVE_DATA_FAILURE})}),t(I())},500)}};var F=Object(u.b)(function(e){return{baseExchangeRate:e.baseExchangeRate,exchangeRate:e.exchangeRate,date:e.date,isLoading:e.isLoading,isLoaded:e.isLoaded,isLoadingArchive:e.isLoadingArchive,isLoadedArchive:e.isLoadedArchive,hasError:e.hasError}},function(e){return{getArchiveDataFromApi:function(t){return e(w(t))},getInputDate:function(t){return e((n=t,{type:d.GET_INPUT_DATE,date:n}));var n}}})(function(e){var t=e.baseExchangeRate,n=e.date,a=e.getInputDate,c=e.exchangeRate,l=e.getArchiveDataFromApi,u=(e.isLoaded,e.isLoadedArchive),o=e.isLoadingArchive,i=e.hasError;return r.a.createElement(r.a.Fragment,null,0!==t.length&&r.a.createElement("div",{className:"exchange_page"},r.a.createElement("table",{className:"table table-danger"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Currency code"),r.a.createElement("th",{scope:"col"},"Buying rate"),r.a.createElement("th",{scope:"col"},"Sales rate"))),r.a.createElement("tbody",null,0!==t&&t.map(function(e){return r.a.createElement("tr",{key:e.ccy},r.a.createElement("th",{scope:"row"},e.ccy),r.a.createElement("td",null,e.buy),r.a.createElement("td",null,e.sale))}))),r.a.createElement("div",{className:"archive_rate"},r.a.createElement("h4",null,"Select the date you want"),r.a.createElement(C.a,{dateFormat:"dd.MM.yyyy",selected:n,onChange:function(e){return a(e)},onSelect:function(e){return l(function(e){var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),t+"."+n+"."+e.getFullYear()}(e))},minDate:new Date("2015/01/01"),maxDate:new Date,showYearDropdown:!0,dateFormatCalendar:"MMMM",yearDropdownItemNumber:5,scrollableYearDropdown:!0}),o&&r.a.createElement("div",{className:"spinner-border text-danger spinner-archive",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),u&&r.a.createElement("div",null,r.a.createElement("table",{className:"table table-danger archive_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Currency code"),r.a.createElement("th",{scope:"col"},"Buying rate"),r.a.createElement("th",{scope:"col"},"Sales rate"))),r.a.createElement("tbody",null,c.map(function(e){return e.currency&&r.a.createElement("tr",{key:e.currency},r.a.createElement("th",{scope:"row"},e.currency),r.a.createElement("td",null,e.purchaseRateNB),r.a.createElement("td",null,e.saleRateNB))})))),i&&r.a.createElement("h3",null,"Something went wrong:("))))});n(122);var j=Object(u.b)(function(e){return{exchangeRate:e.exchangeRate,baseExchangeRate:e.baseExchangeRate,convertValue:e.convertValue,inputValue:e.inputValue,firstSelect:e.firstSelect,secondSelect:e.secondSelect,allSelected:e.allSelected}},function(e){return{getInputValue:function(t){return e(function(e){var t=e.target;return{type:d.GET_INPUT_VALUE,target:t}}(t))},convertMoney:function(){return e({type:d.CONVERT_MONEY})},getFirstSelectValue:function(t){return e(function(e){var t=e.target;return{type:d.GET_FIRST_SELECTED_VALUE,value:t.value}}(t))},getSecondSelectValue:function(t){return e(function(e){var t=e.target;return{type:d.GET_SECOND_SELECTED_VALUE,value:t.value}}(t))},clearInput:function(){return e({type:d.CLEAR_INPUT_VALUE})},swapCurrency:function(){return e({type:d.SWAP_CURRENCY})}}})(function(e){var t=e.getInputValue,n=e.clearInput,a=e.inputValue,c=e.convertValue,l=e.convertMoney,u=e.exchangeRate,o=e.baseExchangeRate,i=e.firstSelect,E=e.secondSelect,s=e.getFirstSelectValue,d=e.getSecondSelectValue,A=e.swapCurrency,m=e.allSelected;return r.a.createElement(r.a.Fragment,null,0!==o.length&&r.a.createElement("div",{className:"convert_page"},r.a.createElement("select",{onChange:function(e){return s(e)},value:i,className:"select"},r.a.createElement("option",{disabled:!0,selected:!0},"Choose currency"),o.length+1===u.length&&u.map(function(e){return r.a.createElement("option",{value:e.ccy,key:e.ccy},e.ccy)}),o!==u&&u.map(function(e){return e.currency&&r.a.createElement("option",{value:e.currency,key:e.currency},e.currency)})),r.a.createElement("i",{className:"fas fa-arrows-alt-h",onClick:A}),r.a.createElement("select",{className:"select",onChange:function(e){return d(e)},value:E},r.a.createElement("option",{disabled:!0,selected:!0},"Choose currency"),o.length+1===u.length&&u.map(function(e){return r.a.createElement("option",{value:e.ccy,key:e.ccy},e.ccy)}),o!==u&&u.map(function(e){return e.currency&&r.a.createElement("option",{value:e.currency,key:e.currency},e.currency)})),r.a.createElement("input",{type:"text",placeholder:"Input your value",onChange:t,onClick:n,value:a,className:"input_value"})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",disabled:!0,placeholder:"Converted value",value:c||"",className:"input_value"})," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:l,disabled:!m,className:"badge badge-danger btn_convert"},"Convert"),i&&E&&r.a.createElement(r.a.Fragment,null,o.length+1===u.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,i,":",u.find(function(e){return e.ccy===i}).sale),r.a.createElement("h4",null,E,":",u.find(function(e){return e.ccy===E}).buy)),u.length>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Archive exchange rate"),r.a.createElement("h4",null,i,":",u.find(function(e){return e.currency===i}).saleRateNB),r.a.createElement("h4",null,E,":",u.find(function(e){return e.currency===E}).purchaseRateNB)))))}),P=(n(123),function(e){function t(){return Object(y.a)(this,t),Object(v.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.getDataFromApi(),this.props.loadDataRequest()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.baseExchangeRate;return r.a.createElement("div",{className:"main"},t&&0===n.length&&r.a.createElement("div",{className:"spinner spinner-border text-danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),0!==n.length&&r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav justify-content-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(R.b,{to:"/",className:"badge badge-light"},"Exchange rate")),r.a.createElement("li",null,r.a.createElement(R.b,{to:"/convertMoney",className:"badge badge-light"},"Convert money")))),r.a.createElement(T.c,null,r.a.createElement(T.a,{path:"/",exact:!0,component:F}),r.a.createElement(T.a,{path:"/convertMoney",component:j}),"} />"))}}]),t}(r.a.Component));var M=Object(u.b)(function(e){return{baseExchangeRate:e.baseExchangeRate,isLoading:e.isLoading}},function(e){return{getDataFromApi:function(){return e(x())},loadDataRequest:function(){return e({type:d.LOAD_DATA_REQUEST})}}})(P);l.a.render(r.a.createElement(u.a,{store:f},r.a.createElement(R.a,null,r.a.createElement(M,null))),document.getElementById("root"))},67:function(e,t,n){e.exports=n(125)}},[[67,1,2]]]);
//# sourceMappingURL=main.4f9d08cb.chunk.js.map